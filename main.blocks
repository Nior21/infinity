<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="2!y$DT,/xc$=@3KJ:]v,">key</variable><variable id="@,dF;p[bPgppKuWkxo5G">chunkSize</variable><variable id="lC,0I3,UtnprE(dI^lms">i</variable><variable id="!K[Lk[V3;{?z=4Syqm94">j</variable><variable id="QPxso$V8dHdM}+4Ixf=U">data</variable><variable id="VVH_FNXpA0yK*e?|oPq/">keyName</variable><variable id="m%8+tk./*0B7x~^K3/7g">keysCount</variable><variable id="nqxO28n2z{)2c:U,;X22">value</variable></variables><block type="pxt-on-start" id="J+R59#n!W1j+?IA[{9Z2" x="39" y="-262"><statement name="HANDLER"><block type="block_settings_clear" id="Z5;y*hRF^*xi3U)f@+R7"></block></statement></block><block type="keyonevent" id="_g+R+dsaP:6?AoR!cQWc" x="0" y="0"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><comment pinned="false" h="80" w="160">Тест на запись в постоянную память</comment><statement name="HANDLER"><block type="variables_set" id="3kfC(dH}9DNcYoxegy?e"><field name="VAR" id="2!y$DT,/xc$=@3KJ:]v,">key</field><value name="VALUE"><shadow type="math_number" id="aSkpHK29?^`p*#%Rn(_U"><field name="NUM">0</field></shadow><block type="text" id="ieS6;:M`ts?pjgc]DMKx"><field name="TEXT">testData</field></block></value><next><block type="variables_set" id="q85.NcnWTsm%f~?/7xP^"><field name="VAR" id="@,dF;p[bPgppKuWkxo5G">chunkSize</field><value name="VALUE"><shadow type="math_number" id="sgLC,x]y.S4haPB0%Km("><field name="NUM">100</field></shadow></value><next><block type="console_log" id="H2Qif[]G?WzYlVA-nuML"><comment pinned="false" h="80" w="160">Очищаем предыдущий тест</comment><value name="value"><shadow type="text" id="Hthh0*AkohY8Hz%!{ZRg"><field name="TEXT">Начинаем тест постоянной памяти...</field></shadow></value><next><block type="pxt_controls_for" id="M)w059yoxDeM8d3eFe52"><value name="VAR"><block type="variables_get_reporter" id="I(by7cEcR3]P-.@HJU]q"><mutation duplicateondrag="true"></mutation><field name="VAR" id="lC,0I3,UtnprE(dI^lms">i</field></block></value><value name="TO"><shadow type="math_whole_number" id="wIK:uI!8cxh781[zLj*("><field name="NUM">0</field></shadow><block type="math_number" id="8K)~0HYjChC6~--f}!VR"><field name="NUM">999</field></block></value><statement name="DO"><block type="pxt_controls_for" id="1%_3V.@AimI@rk7|DW:I"><comment pinned="false" h="80" w="160">Ограничим итерации
Добавляем данные</comment><value name="VAR"><block type="variables_get_reporter" id="0@#utrLJ`6PHFuw;Pt6b"><mutation duplicateondrag="true"></mutation><field name="VAR" id="!K[Lk[V3;{?z=4Syqm94">j</field></block></value><value name="TO"><shadow type="math_whole_number" id="6}2@:Q^V$CFAW*2C6PM6"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Q,?4v0+}t%DsEF2QniIW"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="i8A*Sn_Kf_UuqsPBH$CJ"><field name="NUM">0</field></shadow><block type="variables_get" id="}Fo(34=(Oz*HtXnG=CF-"><field name="VAR" id="@,dF;p[bPgppKuWkxo5G">chunkSize</field></block></value><value name="B"><shadow type="math_number" id="Sa=4H|HU03;mf^QEIsjP"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="variables_set" id="lX%*ikOOF8@ja9vLxwF}"><field name="VAR" id="QPxso$V8dHdM}+4Ixf=U">data</field><value name="VALUE"><shadow type="math_number" id="#9))98CBW@RQm:jC2AJI"><field name="NUM">0</field></shadow><block type="text_join" id="AeGjZG7%Hc9rHZQz6.4w"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="h~0i0?IjWTwR?cw/lS!J"><field name="TEXT"></field></shadow><block type="variables_get" id="#WzuRZGwl+v5Ou_k6;Fc"><field name="VAR" id="QPxso$V8dHdM}+4Ixf=U">data</field></block></value><value name="ADD1"><shadow type="text" id="WmdO}_!D9]#$v%8qBc26"><field name="TEXT"></field></shadow><block type="stringFromCharCode" id="nINf#E*(Rt#L8O/e6z,f"><value name="code"><block type="math_arithmetic" id="j6wUn|,V=2Lup!j{Em1q"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="#w$DTe,s?N(fI16~jP2p"><field name="NUM">65</field></shadow></value><value name="B"><shadow type="math_number" id="Z(5+x~R|BR7Y0%ySuM6:"><field name="NUM">0</field></shadow><block type="math_modulo" id="@jlw]8I)f:$u?7.j:@j="><value name="DIVIDEND"><shadow type="math_number" id=":7jT{3`/JS2rtXtgty18"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="ZITeW(`ZDp?e|NFJjAlt"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="7|pa7]Ca(pO^*_snGv9]"><field name="NUM">0</field></shadow><block type="variables_get" id="x/^kDPjujoBPH`fobkJw"><field name="VAR" id="lC,0I3,UtnprE(dI^lms">i</field></block></value><value name="B"><shadow type="math_number" id="{~y}ljde^Z`$:`kW;ep`"><field name="NUM">0</field></shadow><block type="variables_get" id="LH@Ww`SEp%pShW^a[!#U"><field name="VAR" id="!K[Lk[V3;{?z=4Syqm94">j</field></block></value></block></value><value name="DIVISOR"><shadow type="math_number" id="K@:Q49[5CaaiKsLx`m(5"><field name="NUM">26</field></shadow></value></block></value></block></value></block></value></block></value></block></statement><next><block type="typescript_statement" id="dXBtS4tH[H2r}C}k@yW_"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="try {" line1="            blockSettings.writeString(key, data)" line2="            console.log(&quot;Успешно сохранено: &quot; + data.length + &quot; байт&quot;)" line3="        } catch (e) {" line4="            console.log(&quot;Ошибка при сохранении: &quot; + e)" line5="            console.log(&quot;Максимальный размер: &quot; + (data.length - chunkSize))" line6="            break" line7="        }" numlines="8"></mutation><next><block type="device_pause" id="ENJD}D!WEx*A0Al*HGq?"><value name="pause"><shadow type="timePicker" id="^Gb(,)1n.i6[XZvI{~po"><field name="ms">100</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type="keyonevent" id=",lrD}XZ6Od+:8MHC:cf*" x="1500" y="-49"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><comment pinned="false" h="80" w="160">Тест на чтение/запись множества ключей</comment><statement name="HANDLER"><block type="device_while" id="sMMN0(;=!gXzDnLHqpOk"><value name="COND"><shadow type="logic_boolean" id="Vbe@B4I_X?!Qds:)+N~p"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="variables_set" id="uvxzA%usRP(tXe5PEb,v"><field name="VAR" id="VVH_FNXpA0yK*e?|oPq/">keyName</field><value name="VALUE"><shadow type="math_number" id=".~kBlKIae~?[AX6CZgA)"><field name="NUM">0</field></shadow><block type="text_join" id="FC=tDDyX.+e!;bc3(](@"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="A|@S%/[$`]_z0FD0jQj*"><field name="TEXT">key_</field></shadow></value><value name="ADD1"><shadow type="text" id="L{[=EP*2;}Xxm-+/XbWM"><field name="TEXT"></field></shadow><block type="variables_get" id="Dnh#QE%Wh~,TAwlGKy}}"><field name="VAR" id="m%8+tk./*0B7x~^K3/7g">keysCount</field></block></value></block></value><next><block type="variables_set" id="C1owY,ys-,_TB65]}!|t"><field name="VAR" id="nqxO28n2z{)2c:U,;X22">value</field><value name="VALUE"><shadow type="math_number" id="AKvEYX7VeYXxo@mA}sxJ"><field name="NUM">0</field></shadow><block type="text_join" id="*9Uqa:+F3yGJ$)#$PN$n"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="z:CHB:Wbgs_6RxajG}:l"><field name="TEXT">data_</field></shadow></value><value name="ADD1"><shadow type="text" id="-6)]sBYfp8Hc/m|nBQf["><field name="TEXT"></field></shadow><block type="variables_get" id="~xWtfEh@D`UnXu:m2KJ`"><field name="VAR" id="m%8+tk./*0B7x~^K3/7g">keysCount</field></block></value></block></value><next><block type="typescript_statement" id="G;E3GLl,rJeW?lP7T6GD"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="try {" line1="            blockSettings.writeString(keyName, value)" line2="            let readBack = blockSettings.readString(keyName)" line3="" line4="            if (readBack != value) {" line5="                console.log(&quot;Ошибка чтения для ключа: &quot; + keyName)" line6="                break" line7="            }" line8="" line9="            keysCount++" line10="            console.log(&quot;Ключей сохранено: &quot; + keysCount)" line11="" line12="            if (keysCount % 10 == 0) {" line13="                console.log(&quot;Проверяем сохранение...&quot;)" line14="                pause(500)" line15="            }" line16="        } catch (f) {" line17="            console.log(&quot;Лимит ключей достигнут: &quot; + keysCount)" line18="            break" line19="        }" numlines="20"></mutation></block></next></block></next></block></statement></block></statement></block></xml>